(self.webpackChunk=self.webpackChunk||[]).push([[826],{84978:function(e){e.exports={pokemonContainer:"pokemon-container__evjB6"}},79530:function(e){e.exports={pokemonSearch:"pokemon-search__frcH0",pokemonPic:"pokemon-pic__s_Xbq",pokemonSearchButton:"pokemon-search-button__J9L_5",pokedexNavbar:"pokedex-navbar__wckwE"}},57434:function(e){e.exports={pokemonCard:"pokemon-card__OlAHM",pokemonCardTitle:"pokemon-card-title__cP2Hj",pokemonCardImage:"pokemon-card-image__Md2AO",pokemonAttributesList:"pokemon-attributes-list__zdn6X",pokemonAttribute:"pokemon-attribute__UncE7",pokemonStat:"pokemon-stat__N_QYA",pokemonInfoTitle:"pokemon-info-title__WehcG",pokemonStatsTable:"pokemon-stats-table___Wb2m",attackText:"attack-text__E3fa5",defenseText:"defense-text__LASDj",hpText:"hp-text___30NA"}},18513:function(e){e.exports={mainWrapper:"main-wrapper__lbnGF",page:"page__UrOYV",pageEnter:"page-enter__IMJ0P",contentBody:"content-body__nCmnl",pageEnterDone:"page-enter-done__Jd45a",pageEnterActive:"page-enter-active__zD62o",pageExit:"page-exit__sQD79",priceWidget:"price-widget__bROyD",bgBtc:"bg-btc__oQiqP",refreshButtonRight:"refresh-button-right__H_yZR",pageExitActive:"page-exit-active__a7REr"}},21336:function(e,t,n){"use strict";n(79530);var o=n(32735),a=n(12788),r=n(22538);var s=({RenderWithHistoryHook:e})=>{const t=(0,r.k6)();return e?o.createElement(e,{_history:t}):o.createElement(o.Fragment,null)},i=n(41430),c=(n(18513),function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(o=Object.getOwnPropertySymbols(e);a<o.length;a++)t.indexOf(o[a])<0&&Object.prototype.propertyIsEnumerable.call(e,o[a])&&(n[o[a]]=e[o[a]])}return n});var l,m=e=>{var{component:t}=e,n=c(e,["component"]);return o.createElement(r.AW,Object.assign({},n),(({match:e})=>o.createElement(i.Z,{in:null!=e,timeout:350,classNames:"page",unmountOnExit:!0},o.createElement("div",{className:"page"},o.createElement(t,null)))))},p=n(40841),u=n.n(p),d=n(94370),h=n(27129),g=n(38852),f=n(71401),k=n(39334);!function(e){e.NORMAL="normal",e.FIRE="fire",e.WATER="water",e.GRASS="grass",e.ELECTRIC="electric",e.ICE="ice",e.FIGHTING="fighting",e.POISON="poison",e.GROUND="ground",e.FLYING="flying",e.PSYCHIC="psychic",e.BUG="bug",e.ROCK="rock",e.GHOST="ghost",e.DARK="dark",e.DRAGON="dragon",e.STEEL="steel",e.FAIRY="fairy"}(l||(l={}));var v,E=l;!function(e){e.SUNNY="Sunny/clear",e.FOG="Fog",e.SNOW="Snow",e.RAINY="Rainy",e.HAIL="Hail",e.SANDSTORM="Sandstorm",e.CLOUDY="Cloudy",e.STORMY="Stormy",e.WINDY="Windy",e.SUNNY_RAINY="Partly rainy",e.SUNNY_CLOUDY="Partly cloudy"}(v||(v={}));var b=v,y=n(57434),_=n(52178),S=n(289),P=n(67860),N=n(39262);const x=(e,t)=>t||0===t?o.createElement(d.Z,{className:y.pokemonAttribute},o.createElement("span",{className:y.pokemonStat},o.createElement("b",null,e),o.createElement("p",null,"string"==typeof t?t:String(t)))):null,w=(e,t)=>x(e,t?"Sim":"Não");class C extends o.PureComponent{constructor(e){super(e),this.state={collapsed:!0}}componentDidMount(){const{imgImport:e=!1,imgSrc:t="",importSpritesPromise:n}=this.props;e&&this.props.imgSrc&&"string"==typeof this.props.imgSrc&&(this.setState({imgSrc:""}),null==n||n.then((e=>{const n=e.default[t];this.setState({imgSrc:n})})).catch((e=>{N.ZP.error(e.message),console.error(e)})))}render(){const{pokemon:e,imgImport:t,description:n}=this.props,{collapsed:a}=this.state,{imgSrc:r=""}=t?this.state:this.props;return o.createElement(o.Fragment,null,o.createElement(N.x7,null),o.createElement(h.Z,{className:y.pokemonCard,style:a?{gridRow:"span 1"}:{gridRow:"span 3"}},o.createElement(h.Z.Title,{className:y.pokemonCardTitle},o.createElement("img",{src:"/Assets/fa-pokeball.svg",height:20,width:20,style:{verticalAlign:"sub"},alt:"Pokéball"}),e.name||"Pokémon Desconhecido"),o.createElement("div",{className:y.pokemonCardImage},o.createElement(h.Z.Img,{style:{width:"95%",height:"95%"},variant:"top",src:r||"Assets/fa-pokemon-arena.svg",alt:"Pokémon",onError:e=>{e.target.removeAttribute("onerror"),e.target.src="Assets/fa-pokemon-arena.svg"}})),o.createElement(h.Z.Body,null,o.createElement(g.Z,{className:u()(["list-group-flush"]),id:"pokemonInfo"},o.createElement(d.Z,{className:y.pokemonAttribute,style:{padding:"0"}},o.createElement("table",{className:u()(["table","table-responsive",y.pokemonStatsTable])},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",{colSpan:1,className:y.attackText},o.createElement(_.G,{icon:S.bE7})," "," "," Ataque"),o.createElement("th",{colSpan:2,className:y.defenseText},o.createElement(_.G,{icon:S.U7t})," "," "," Defesa"),o.createElement("th",{colSpan:3,className:y.hpText},o.createElement(_.G,{icon:P.ul})," "," "," Max HP"))),o.createElement("tbody",null,o.createElement("tr",null,o.createElement("td",{colSpan:1},e.attack>0?e.attack:"Carregando..."),o.createElement("td",{colSpan:2},e.defense>0?e.defense:"Carregando..."),o.createElement("td",{colSpan:3},e.staminaHP>0?e.staminaHP:"Carregando..."))))))),o.createElement(f.Z,{in:!a},o.createElement("div",null,o.createElement("h4",{className:y.pokemonInfoTitle}," Informações: "),o.createElement(g.Z,{className:u()(["list-group-flush",y.pokemonAttributesList]),id:"pokemonInfo"},x("Nº Pokedéx:",e.pokedexId),x("Geração:",e.generation),x("Estado de evolução:",e.evolutionState),w("Evoluído?",e.evolved),x("Nº da família:",e.familyId),w("Cruza gerações?",e.evolved),x("Tipo primário:",e.type1),x("Tipo secundário:",e.type2),x("Clima primário",e.weather1),x("Clima secundário",e.weather2),x("Stats Total:",e.statsSum),w("Lendário?",e.legendary),w("Adiquirível",e.acquirable),w("Surge randomicamente?",e.spawns),w("Regional?",e.regional),w("É chefão?",e.raidable>0),e.raidable>0?x("Nível do chefão:",e.raidable):null,e.hatchable>0?x("Passos para chocar",`${e.hatchable} mil`):null,w("Pode ser brilhante?",e.shiny),w("Anda em bando?",e.nest),w("Geração recente?",e.isNewPokemon),w("Capturável?",!e.notGettable),w("Pode evoluir?",e.futureEvolve),x("CP no nível 40",e.fullCPLevel40),x("CP no nível 39",e.fullCPLevel39)))),o.createElement(h.Z.Body,null,o.createElement("div",{className:"d-grid gap-2"},o.createElement(k.Z,{variant:"secondary",size:"lg",type:"button","aria-controls":"pokemonInfo","aria-expanded":!a,onClick:e=>this.setState({collapsed:!a})},a?"Mais":"Menos"," informações...")))))}}var O=C,A=n(84978),I=n(43653),R=n.n(I),L=n(164),T=n(23961),F=n.n(T),H=n(56786),G=n.n(H),D=n(86834),Y=n.n(D),q=function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function i(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((o=o.apply(e,t||[])).next())}))};const Z={baseURL:"https://pokedex-redfox.herokuapp.com/",withCredentials:!1};const M=F().createInstance({name:"PokemonApiCache"}),U=(0,L.setupCache)({clearOnStale:!0,debug:!1,exclude:{filter:e=>e.cache&&e.cache.exclude},key:e=>e.cache&&e.cache.key||e.url||"",maxAge:18e6,store:M}),W=U.config.key,{debug:j}=U.config,B=e=>t=>q(void 0,void 0,void 0,(function*(){const n=function(e,t={exclude:[]}){const{exclude:n={filter:null,query:null,paths:[]}}=t,o=t.debug;if("function"==typeof n.filter&&n.filter(e))return o(`Excluding request by filter ${e.url}`),!0;const{url:a}=e,r=a.match(/\?.*$/)||!Y()(e.params);if(n.query&&r)return o(`Excluding request by query ${e.url}`),!0;const s=n.paths||[];return!!(e&&e.url&&G()(s,(t=>{var n;return null===(n=null==e?void 0:e.url)||void 0===n?void 0:n.match(t)})))&&(o(`Excluding request by url match ${e.url}`),!0)}(t,U.config),o="function"==typeof W?W(t):W;if(!n&&t.cache&&t.cache.groups){const e="__groups",n=(yield M.getItem(e))||{};let a=!1;for(const e of t.cache.groups)e in n||(n[e]=[]),n[e].indexOf(o)<0&&(a=!0,n[e].push(o));a&&(yield M.setItem(e,n))}let a;try{a=yield e(t)}catch(e){if("function"==typeof j&&j("request-failed",t.url),e.request&&t.cache&&t.cache.useOnNetworkError&&!n&&(a=yield M.getItem(o||""),a&&a.data))return a=a.data,a.config=t,a.request={networkError:!0,fromCache:!0},a;throw e}return a})),$={baseURL:"https://pokedex-redfox.herokuapp.com/",withCredentials:!1};var z=()=>({api:R().create(Object.assign({},$))}),J=function(e,t,n,o){return new(n||(n=Promise))((function(a,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function i(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,i)}c((o=o.apply(e,t||[])).next())}))};class K extends o.PureComponent{constructor(e){super(e),this.paginationId="",this.isFetching=!1,this.scrollObserverAttached=!1,this.apiFactory=z(),this.state={pokemons:[]},this.scrollObserver={callback:()=>{window.innerHeight+window.scrollY>=.75*(window.document.body.scrollHeight-window.innerHeight)&&this.updatePokemonsPage()}}}attachScrollObserver(){this.scrollObserverAttached||(window.addEventListener("scroll",this.scrollObserver.callback),this.scrollObserverAttached=!0)}fetchPokemonsPage(e=!0){return J(this,void 0,void 0,(function*(){if(!this.isFetching){this.isFetching=!0;try{const{paginationId:n}=this,{api:o}=e?(t=`/Pokemon/getPage/${n}`,{api:R().create(Object.assign(Object.assign({},Z),{adapter:B(U.adapter),cache:{key:()=>t,useOnNetworkError:!0}}))}):this.apiFactory,a=yield o.get(`/Pokemon/getPage/${n}`);this.isFetching=!1;const{fromCache:r}=a.request,{data:s}=a;return{data:s,fromCache:r}}catch(e){console.log(e),N.ZP.error(e.message),this.isFetching=!1}var t}}))}updatePokemonsPage(){return J(this,void 0,void 0,(function*(){this.isFetching||this.fetchPokemonsPage().then((e=>J(this,void 0,void 0,(function*(){if(!e)return;const t=e.data[e.data.length-1];let n;if(e.fromCache?(this.isFetching=!0,n=this.state.pokemons):this.paginationId=t._id||"",this.setState({pokemons:[...this.state.pokemons||[],...e.data]}),n){this.isFetching=!1;const{data:e}=(yield this.fetchPokemonsPage(!1))||{data:[]};this.setState({pokemons:[...n,...e]});const t=e[e.length-1];this.paginationId=t._id||""}})))).catch((e=>{N.ZP.error(e.message),console.log(e),this.isFetching=!1}))}))}componentDidMount(){this.attachScrollObserver(),this.updatePokemonsPage()}componentWillUnmount(){this.scrollObserverAttached=!1,window.removeEventListener("scroll",this.scrollObserver.callback)}suspensePokemons(){const e=[];for(let t=0;t<=9;t++)e.push(o.createElement(O,{key:t,pokemon:{row:-1,name:"Carregando...",pokedexId:-1,imageName:"invalid",generation:"Carregando...",type1:E.NORMAL,weather1:b.SUNNY,type2:E.NORMAL,weather2:b.SUNNY,staminaHP:-1,attack:-1,defense:-1,evolutionState:"Carregando...",evolved:!1,crossGeneration:!1,statsSum:-1,legendary:!1,acquirable:!1,spawns:!1,regional:!1,raidable:-1,hatchable:-1,shiny:!1,nest:!1,isNewPokemon:!1,notGettable:!0,fullCPLevel39:-1,fullCPLevel40:-1,futureEvolve:!1},imgSrc:"Assets/fa-pokemon-arena.svg"}));return e}render(){const{pokemons:e=null}=this.state,t=n.e(295).then(n.bind(n,39295));return o.createElement(o.Fragment,null,o.createElement(N.x7,null),o.createElement("main",{className:u()(["container","bg-light",A.pokemonContainer])},(null==e?void 0:e.length)?e.map((e=>o.createElement(O,{pokemon:e,key:e._id,imgSrc:`./${e.imageName}.png`,imgImport:!0,importSpritesPromise:(()=>J(this,void 0,void 0,(function*(){return t})))()}))):this.suspensePokemons()))}}var Q=[{path:"/",component:K,exact:!0}];var V=({RenderWithLocationHook:e})=>{const t=(0,r.TH)();return e?o.createElement(e,{_location:t}):o.createElement(o.Fragment,null)};class X extends o.PureComponent{constructor(e){super(e),this.state={routes:[]}}componentDidMount(){this.setState({routes:Q})}render(){const e=this.state.routes;return o.createElement(s,{RenderWithHistoryHook:({_history:t})=>o.createElement(r.F0,{history:t},o.createElement(V,{RenderWithLocationHook:({_location:t})=>o.createElement(r.rs,{location:t},e.map(((e,t)=>o.createElement(m,{path:e.path,exact:!!e.exact||void 0,component:e.component,key:t}))))}))})}}var ee=X,te=n(14911);n.e(39).then(n.t.bind(n,96039,23));a.render(o.createElement(o.StrictMode,null,o.createElement((()=>o.createElement(te.VK,{basename:"/"},o.createElement(ee,null))),null)),document.getElementById("root"))}},function(e){e.O(0,[736,712],(function(){return t=21336,e(e.s=t);var t}));e.O()}]);